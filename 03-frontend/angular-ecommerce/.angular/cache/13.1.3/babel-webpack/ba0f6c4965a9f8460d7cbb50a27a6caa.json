{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/order-history.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction OrderHistoryComponent_div_5_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tempOrderHistory_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tempOrderHistory_r3.orderTrackingNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, tempOrderHistory_r3.totalPrice, \"USD\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(tempOrderHistory_r3.totalQuantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 7, tempOrderHistory_r3.dateCreated, \"medium\"));\n  }\n}\n\nfunction OrderHistoryComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"table\", 5);\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\", 6);\n    i0.ɵɵtext(4, \"Order Tracking Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 7);\n    i0.ɵɵtext(6, \"Total Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 7);\n    i0.ɵɵtext(8, \"Total Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 7);\n    i0.ɵɵtext(10, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, OrderHistoryComponent_div_5_tr_11_Template, 11, 10, \"tr\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderHistoryList);\n  }\n}\n\nfunction OrderHistoryComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 9);\n  }\n}\n\nexport let OrderHistoryComponent = /*#__PURE__*/(() => {\n  class OrderHistoryComponent {\n    constructor(orderHistoryService) {\n      this.orderHistoryService = orderHistoryService;\n      this.orderHistoryList = [];\n      this.storage = sessionStorage;\n    }\n\n    ngOnInit() {\n      this.handleOrderHistory();\n    }\n\n    handleOrderHistory() {\n      //read the user's email address from browser storage \n      const theEmail = JSON.parse(this.storage.getItem('userEmail')); // userEmail-> is the key\n      //retrieve data from the service\n\n      this.orderHistoryService.getOrderHistory(theEmail).subscribe(data => {\n        //assign data to orderHistoryList by subscribing to service and getting data from service \n        this.orderHistoryList = data._embedded.orders;\n      });\n    }\n\n  }\n\n  OrderHistoryComponent.ɵfac = function OrderHistoryComponent_Factory(t) {\n    return new (t || OrderHistoryComponent)(i0.ɵɵdirectiveInject(i1.OrderHistoryService));\n  };\n\n  OrderHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderHistoryComponent,\n    selectors: [[\"app-order-history\"]],\n    decls: 8,\n    vars: 2,\n    consts: [[1, \"main-content\"], [1, \"section-content\", \"section-content-p30\"], [1, \"container-fluid\"], [4, \"ngIf\"], [\"class\", \"alert alert-warning col-md-12\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"table\", \"table-bordered\"], [\"width\", \"20%\"], [\"width\", \"10%\"], [4, \"ngFor\", \"ngForOf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\", \"col-md-12\"]],\n    template: function OrderHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h3\");\n        i0.ɵɵtext(4, \"Your Orders\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, OrderHistoryComponent_div_5_Template, 12, 1, \"div\", 3);\n        i0.ɵɵtemplate(6, OrderHistoryComponent_div_6_Template, 1, 0, \"div\", 4);\n        i0.ɵɵtext(7, \" No orders found. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.orderHistoryList.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.orderHistoryList.length == 0);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf],\n    pipes: [i2.CurrencyPipe, i2.DatePipe],\n    styles: [\"\"]\n  });\n  return OrderHistoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}