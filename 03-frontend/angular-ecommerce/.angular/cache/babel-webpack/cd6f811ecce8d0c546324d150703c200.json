{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _client = require(\"./client\");\n/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nvar parseAndReject = function parseAndReject(response) {\n  return response.json().then(function (err) {\n    return _promise.default.reject(err);\n  });\n};\n\nvar introspect = /*#__PURE__*/function () {\n  var _introspect = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_ref) {\n    var domain, interactionHandle, stateHandle, version, stateTokenExternalId, target, body, headers;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            domain = _ref.domain, interactionHandle = _ref.interactionHandle, stateHandle = _ref.stateHandle, version = _ref.version, stateTokenExternalId = _ref.stateTokenExternalId;\n            target = \"\".concat(domain, \"/idp/idx/introspect\");\n            body = stateHandle ? {\n              stateToken: stateHandle\n            } : {\n              interactionHandle: interactionHandle\n            };\n\n            if (stateTokenExternalId) {\n              body.stateTokenExternalId = stateTokenExternalId;\n            }\n\n            headers = {\n              'content-type': \"application/ion+json; okta-version=\".concat(version),\n              // Server wants this version info\n              accept: \"application/ion+json; okta-version=\".concat(version)\n            };\n            return _context.abrupt(\"return\", (0, _client.request)(target, {\n              headers: headers,\n              body: (0, _stringify.default)(body)\n            }).then(function (response) {\n              return response.ok ? response.json() : parseAndReject(response);\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  function introspect(_x) {\n    return _introspect.apply(this, arguments);\n  }\n\n  return introspect;\n}();\n\nvar _default = introspect;\nexports.default = _default;","map":{"version":3,"sources":["/Users/miralimirzayev/Desktop/Spring/FULLStackDev_BOOT_CAMP/ecommerce-project-release1.0/03-frontend/angular-ecommerce/node_modules/@okta/okta-idx-js/src/introspect.js"],"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","default","_regenerator","_asyncToGenerator2","_promise","_stringify","_client","parseAndReject","response","json","then","err","reject","introspect","_introspect","mark","_callee","_ref","domain","interactionHandle","stateHandle","version","stateTokenExternalId","target","body","headers","wrap","_callee$","_context","prev","next","concat","stateToken","accept","abrupt","request","ok","stop","_x","apply","arguments","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _client = require(\"./client\");\n\n/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar parseAndReject = function parseAndReject(response) {\n  return response.json().then(function (err) {\n    return _promise.default.reject(err);\n  });\n};\n\nvar introspect = /*#__PURE__*/function () {\n  var _introspect = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_ref) {\n    var domain, interactionHandle, stateHandle, version, stateTokenExternalId, target, body, headers;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            domain = _ref.domain, interactionHandle = _ref.interactionHandle, stateHandle = _ref.stateHandle, version = _ref.version, stateTokenExternalId = _ref.stateTokenExternalId;\n            target = \"\".concat(domain, \"/idp/idx/introspect\");\n            body = stateHandle ? {\n              stateToken: stateHandle\n            } : {\n              interactionHandle: interactionHandle\n            };\n\n            if (stateTokenExternalId) {\n              body.stateTokenExternalId = stateTokenExternalId;\n            }\n\n            headers = {\n              'content-type': \"application/ion+json; okta-version=\".concat(version),\n              // Server wants this version info\n              accept: \"application/ion+json; okta-version=\".concat(version)\n            };\n            return _context.abrupt(\"return\", (0, _client.request)(target, {\n              headers: headers,\n              body: (0, _stringify.default)(body)\n            }).then(function (response) {\n              return response.ok ? response.json() : parseAndReject(response);\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  function introspect(_x) {\n    return _introspect.apply(this, arguments);\n  }\n\n  return introspect;\n}();\n\nvar _default = introspect;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}