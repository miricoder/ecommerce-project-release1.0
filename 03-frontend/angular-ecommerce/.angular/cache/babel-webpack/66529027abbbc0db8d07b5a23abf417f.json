{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _client = require(\"./client\");\n/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nvar parseAndReject = function parseAndReject(response) {\n  return response.json().then(function (err) {\n    return _promise.default.reject(err);\n  });\n};\n\nvar bootstrap = /*#__PURE__*/function () {\n  var _bootstrap = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_ref) {\n    var _context;\n\n    var clientId, baseUrl, _ref$scopes, scopes, redirectUri, codeChallenge, codeChallengeMethod, state, target, body, headers;\n\n    return _regenerator.default.wrap(function _callee$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            clientId = _ref.clientId, baseUrl = _ref.baseUrl, _ref$scopes = _ref.scopes, scopes = _ref$scopes === void 0 ? ['openid', 'email'] : _ref$scopes, redirectUri = _ref.redirectUri, codeChallenge = _ref.codeChallenge, codeChallengeMethod = _ref.codeChallengeMethod, state = _ref.state;\n            target = \"\".concat(baseUrl, \"/v1/interact\");\n            body = (0, _map.default)(_context = (0, _entries.default)({\n              client_id: clientId,\n              scope: scopes.join(' '),\n              redirect_uri: redirectUri,\n              code_challenge: codeChallenge,\n              code_challenge_method: codeChallengeMethod,\n              state: state\n            })).call(_context, function (_ref2) {\n              var _context2;\n\n              var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n                  param = _ref3[0],\n                  value = _ref3[1];\n\n              return (0, _concat.default)(_context2 = \"\".concat(param, \"=\")).call(_context2, encodeURIComponent(value));\n            }).join('&');\n            headers = {\n              'content-type': 'application/x-www-form-urlencoded'\n            };\n            return _context3.abrupt(\"return\", (0, _client.request)(target, {\n              headers: headers,\n              body: body\n            }).then(function (response) {\n              return response.ok ? response.json() : parseAndReject(response);\n            }).then(function (data) {\n              return data.interaction_handle;\n            }));\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  function bootstrap(_x) {\n    return _bootstrap.apply(this, arguments);\n  }\n\n  return bootstrap;\n}();\n\nvar _default = bootstrap;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}